# ============================================
# Okta OIDC Configuration
# ============================================
CLIENT_ID=your_oidc_client_id_here
CLIENT_SECRET=your_oidc_client_secret_here
OKTA_ISSUER=https://your-okta-domain.okta.com
REDIRECT_URI=http://localhost:3000/callback

# ============================================
# AI Agent Configuration for Token Exchange
# ============================================
# Your agent client ID (from Okta AI Agent registration)
AGENT_CLIENT_ID=your_agent_client_id_here

# Private key JWK for signing client_assertion (JSON stringified)
# This should be a complete JWK object with keys: alg, kty, n, e, d, p, q, dp, dq, qi, kid, use
AGENT_PRIVATE_KEY_JWK={"alg":"RS256","d":"...","dp":"...","dq":"...","e":"AQAB","kty":"RSA","n":"...","p":"...","q":"...","qi":"...","kid":"your_key_id","use":"sig"}

# Key ID for the agent private key (from Okta)
AGENT_KEY_ID=your_key_id_here

# ============================================
# JAG Token Exchange Configuration
# ============================================
# JAG issuer (defaults to OKTA_ISSUER/oauth2 if not set)
JAG_ISSUER=https://your-okta-domain.okta.com/oauth2

# JAG_AUDIENCE - This is the 'aud' claim in the client_assertion JWT
# It MUST be the token endpoint you're calling (for authentication)
# Default: https://your-okta-domain.okta.com/oauth2/v1/token
JAG_AUDIENCE=https://your-okta-domain.okta.com/oauth2/v1/token

# JAG_TARGET_AUDIENCE - This is the 'audience' parameter in the token exchange request
# It tells Okta which resource server the JAG token will be used with
# This should be the resource authorization server issuer
JAG_TARGET_AUDIENCE=https://your-okta-domain.okta.com/oauth2/your_auth_server_id

# Custom Scopes for the JAG token 
JAG_SCOPE=ai_agent

# ============================================
# Resource Authorization Server Configuration
# ============================================
# Resource server audience for client_assertion 'aud' claim
# This is used when creating the client assertion for the final access token exchange
RESOURCE_AUDIENCE=https://your-okta-domain.okta.com/oauth2/your_auth_server_id/v1/token

# Resource server token endpoint
RESOURCE_TOKEN_ENDPOINT=https://your-okta-domain.okta.com/oauth2/your_auth_server_id/v1/token

# ============================================
# Server Configuration (Optional)
# ============================================
PORT=3000
